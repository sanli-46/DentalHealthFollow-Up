<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="DentalHealthFollow_Up.MAUI.StatusPage"
             Title="Durum Girişi">

    <ScrollView>
        <VerticalStackLayout Padding="10" Spacing="10">

            <Label Text="Hedef Seç" />
            <Picker x:Name="GoalPicker" Title="Hedef Seçiniz" ItemDisplayBinding="{Binding Title}" />

            <Label Text="Süre (dakika)" />
            <Entry x:Name="DurationEntry" Placeholder="örn: 10" Keyboard="Numeric" />

            <Label Text="Açıklama" />
            <Editor x:Name="StatusNoteEditor" Placeholder="Açıklama giriniz..." AutoSize="TextChanges" />

            <Label Text="Görsel Ekle (.jpg/.png)" />
            <Button Text="Görsel Seç" Clicked="OnPickImageClicked" />
            <Image x:Name="SelectedImagePreview" HeightRequest="150" Aspect="AspectFit" IsVisible="False" Margin="0,10"/>

            <Button Text="Kaydet" Clicked="OnSaveStatusClicked" />

            <Label Text="Son 7 Gün Özeti" FontAttributes="Bold" />
            <CollectionView x:Name="Last7DaysList">
                <CollectionView.ItemTemplate>
                    <DataTemplate>
                        <StackLayout Padding="5">
                            <Label Text="{Binding Date}" FontAttributes="Bold"/>
                            <Label Text="{Binding GoalTitle}" />
                            <Label Text="{Binding DurationText}" />
                            <Label Text="{Binding Note}" LineBreakMode="TailTruncation" />
                        </StackLayout>
                    </DataTemplate>
                </CollectionView.ItemTemplate>
            </CollectionView>

        </VerticalStackLayout>
    </ScrollView>
</ContentPage>
